<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create scrolling dynamic spectrograms — scrolling_spectro • dynaSpec</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Create scrolling dynamic spectrograms — scrolling_spectro" />
<meta property="og:description" content="scrolling_spectro create videos of single row spectrograms scrolling from right to left sync'ed with sound." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dynaSpec</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/maRce10/dynaSpec/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create scrolling dynamic spectrograms</h1>
    <small class="dont-index">Source: <a href='https://github.com/maRce10/dynaSpec/blob/master/R/scrolling_spectro.R'><code>R/scrolling_spectro.R</code></a></small>
    <div class="hidden name"><code>scrolling_spectro.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>scrolling_spectro</code> create videos of single row spectrograms scrolling from right to left sync'ed with sound.</p>
    </div>

    <pre class="usage"><span class='fu'>scrolling_spectro</span>(<span class='no'>wave</span>, <span class='kw'>file.name</span> <span class='kw'>=</span> <span class='st'>"scroll.spectro.mp4"</span>, <span class='kw'>hop.size</span> <span class='kw'>=</span> <span class='fl'>11.6</span>, <span class='kw'>wl</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
<span class='kw'>ovlp</span> <span class='kw'>=</span> <span class='fl'>70</span>, <span class='kw'>flim</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>pal</span> <span class='kw'>=</span> <span class='kw pkg'>seewave</span><span class='kw ns'>::</span><span class='no'><a href='https://rdrr.io/pkg/seewave/man/seewave.internal.html'>reverse.gray.colors.1</a></span>, <span class='kw'>speed</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>fps</span> <span class='kw'>=</span> <span class='fl'>50</span>,
<span class='kw'>t.display</span> <span class='kw'>=</span> <span class='fl'>1.5</span>, <span class='kw'>fix.time</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>res</span> <span class='kw'>=</span> <span class='fl'>70</span>,
<span class='kw'>width</span> <span class='kw'>=</span> <span class='fl'>700</span>, <span class='kw'>height</span> <span class='kw'>=</span> <span class='fl'>400</span>, <span class='kw'>parallel</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>pb</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
 <span class='kw'>play</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>loop</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>lcol</span> <span class='kw'>=</span> <span class='st'>"#07889B99"</span>,
 <span class='kw'>lty</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>lwd</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>axis.type</span> <span class='kw'>=</span> <span class='st'>"standard"</span>, <span class='kw'>buffer</span> <span class='kw'>=</span> <span class='fl'>1</span>,
 <span class='kw'>ggspectro</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>lower.spectro</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>height.prop</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>5</span>, <span class='fl'>1</span>), <span class='kw'>derivative</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
 <span class='kw'>osc</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>colwave</span> <span class='kw'>=</span> <span class='st'>"black"</span>, <span class='kw'>colbg</span> <span class='kw'>=</span> <span class='st'>"white"</span>,
 <span class='kw'>spectro.call</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>annotation.call</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>wave</th>
      <td><p>object of class 'Wave'.</p></td>
    </tr>
    <tr>
      <th>file.name</th>
      <td><p>Character string with the name of the output video file. Must include the .mp4 extension. Default is 'scroll.spectro.mp4'.</p></td>
    </tr>
    <tr>
      <th>hop.size</th>
      <td><p>A numeric vector of length 1 specifying the time window duration (in ms). Default is 11.6 ms, which is equivalent to 512 wl for a 44.1 kHz sampling rate. Ignored if 'wl' is supplied.</p></td>
    </tr>
    <tr>
      <th>wl</th>
      <td><p>A numeric vector of length 1 specifying the window length of the spectrogram, default 
is NULL. If supplied, 'hop.size' is ignored.</p></td>
    </tr>
    <tr>
      <th>ovlp</th>
      <td><p>Numeric vector of length 1 specifying the percent overlap between two 
consecutive windows, as in <code><a href='https://rdrr.io/pkg/seewave/man/spectro.html'>spectro</a></code>. Default is 70.</p></td>
    </tr>
    <tr>
      <th>flim</th>
      <td><p>A numeric vector of length 2 specifying  limits in the frequency axis (in kHz). Default is <code>NULL</code> (which means from 0 to Nyquist frequency).</p></td>
    </tr>
    <tr>
      <th>pal</th>
      <td><p>Character string with the color palette to be used. Default is 'reverse.gray.colors.1'.</p></td>
    </tr>
    <tr>
      <th>speed</th>
      <td><p>Numeric vector of length 1 indicating the speed at which the sound file will be reproduced (default is 1, normal speed). Values &lt; 1 (but higher than 0) slow down while values &gt; 1 speed up. Note that changes in speed are achieved by modifying the number of frames per second in the output video. Hence, you may want to adjust 'fps' if video quality is considerably affected.</p></td>
    </tr>
    <tr>
      <th>fps</th>
      <td><p>Numeric vector of length 1 specifying the number of frames per second.</p></td>
    </tr>
    <tr>
      <th>t.display</th>
      <td><p>Numeric vector of length 1 specifying the time range displayed in the spectrogram.</p></td>
    </tr>
    <tr>
      <th>fix.time</th>
      <td><p>Logical argument to control if the time axis moves along with the spectrogram or remains fixed. Default is <code>TRUE</code> (fixed).</p></td>
    </tr>
    <tr>
      <th>res</th>
      <td><p>Numeric vector of length 1 specifying the resolution of the image files (see <code><a href='https://rdrr.io/r/grDevices/png.html'>png</a></code>).</p></td>
    </tr>
    <tr>
      <th>width</th>
      <td><p>Numeric vector of length 1 specifying width of the video frame in pixels (see <code><a href='https://rdrr.io/r/grDevices/png.html'>png</a></code>). Default is 700.</p></td>
    </tr>
    <tr>
      <th>height</th>
      <td><p>Numeric vector of length 1 specifying height of the video frame in pixels (see <code><a href='https://rdrr.io/r/grDevices/png.html'>png</a></code>). Default is 400.</p></td>
    </tr>
    <tr>
      <th>parallel</th>
      <td><p>Numeric vector of length 1. Controls whether parallel computing is applied by specifying the number of cores to be used. Default is 1 (i.e. no parallel computing).</p></td>
    </tr>
    <tr>
      <th>pb</th>
      <td><p>Logical argument to control if progress bar is shown. Default is <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>play</th>
      <td><p>Logical argument to control if the video is played after generated. Default is <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>loop</th>
      <td><p>Logical argument to control if the video is formatted to be played in a loop (i.e. if ends at the start of the clip).</p></td>
    </tr>
    <tr>
      <th>lcol</th>
      <td><p>Character string with the color to be used for the vertical line at which sounds are played. Default is <code>"#07889B99"</code>.</p></td>
    </tr>
    <tr>
      <th>lty</th>
      <td><p>Character string to control the type of the line at which sounds are played. Line types can either be specified as an integer (0=blank, 1=solid (default), 2=dashed, 3=dotted, 4=dotdash, 5=longdash, 6=twodash) or as one of the character strings "blank", "solid", "dashed", "dotted", "dotdash", "longdash", or "twodash", where "blank" uses 'invisible lines' (i.e., does not draw them).Default is 2.</p></td>
    </tr>
    <tr>
      <th>lwd</th>
      <td><p>Character string to control the width of the line at which sounds are played. Default is 2.</p></td>
    </tr>
    <tr>
      <th>axis.type</th>
      <td><p>Character string to control the style of spectrogram axes. Currently there are 3 options:
#'</p><ul>
<li><p><code>standard</code>: Both Y and X axes are printed as in the default <code><a href='https://rdrr.io/pkg/seewave/man/spectro.html'>spectro</a></code> view.</p></li>
<li><p><code>minimal</code>: Single lines are used to denote the range defined by 1 s and 1 kHz for the X and Y axes respectively.</p></li>
<li><p><code>none</code>: No axis is printed (also removes ticks, tick labels, and axis labels).</p></li>
</ul></td>
    </tr>
    <tr>
      <th>buffer</th>
      <td><p>Numeric vector of length 1 (&gt; 0) specifying the time to delay the start of the spectrogram scrolling (in seconds). Default is 1. Not available when loop is &gt; 1.</p></td>
    </tr>
    <tr>
      <th>ggspectro</th>
      <td><p>Logical argument to control if a ggspectro (<code><a href='https://rdrr.io/pkg/seewave/man/ggspectro.html'>ggspectro</a></code>) is used instead. Note that there is much less control on display parameters when <code>ggpsectro = TRUE</code>. Default is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>lower.spectro</th>
      <td><p>Logical argument to control if a spectrogram of the full wave object is plotted at the bottom of the graph. Default is <code>TRUE</code>.</p></td>
    </tr>
    <tr>
      <th>height.prop</th>
      <td><p>Numeric vector of length 2 to control the relative height of the scrolling and lower spectro, respectively. Default is <code><a href='https://rdrr.io/r/base/c.html'>c(5, 1)</a></code>. Ignored if <code>lower.spectro = FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>derivative</th>
      <td><p>Logical argument to control if spectral derivative is used instead of spectrogram (as in Sound Analysis Pro, see <code><a href='https://rdrr.io/pkg/imager/man/deriche.html'>deriche</a></code>). Default is <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>osc</th>
      <td><p>Logical argument to control if the oscillogram is plotted at the bottom of the spectrogram. Default is <code>FALSE</code>. Note that 'osc' and 'lower.spectro' are mutually exclusive.</p></td>
    </tr>
    <tr>
      <th>colwave</th>
      <td><p>Character string to control the color of the oscillogram. Default is 'black'.</p></td>
    </tr>
    <tr>
      <th>colbg</th>
      <td><p>Character string to control the background color. Default is 'white'.</p></td>
    </tr>
    <tr>
      <th>spectro.call</th>
      <td><p>A call from a spectrogram creating function (i.e. <code><a href='https://rdrr.io/pkg/seewave/man/spectro.html'>spectro</a></code>, <code><a href='https://rdrr.io/pkg/warbleR/man/color_spectro.html'>color_spectro</a></code>) generated by the function <code><a href='https://rdrr.io/r/base/call.html'>call</a></code>. This call will replace the internal spectrogram creating call. Default is <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>annotation.call</th>
      <td><p>A call from <code><a href='https://rdrr.io/r/graphics/text.html'>text</a></code> generated by the function <code><a href='https://rdrr.io/r/base/call.html'>call</a></code>. The call should also include the argmuents 'start' and 'end' to indicate the time at which the labels are displayed (in s).'fading' is optional and allows fade-in and fade-out effects on labels (in s as well). The position ('x' and 'y' arguments) should be between 0 and 1: <code>x = 0, y = 0</code> corresponds to the bottom left and <code>x = 1, y = 1</code> corresponds to the top right position.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments to be passed to <code><a href='https://rdrr.io/pkg/seewave/man/spectro.html'>spectro</a></code> for customizing spectrograms. Note that 'scale' cannot be included.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A video file in mp4 format in the working directory with the scrolling spectrogram.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function creates videos (mp4 format) of single row spectrograms scrolling from right to left. The audio is sync'ed with the spectrograms.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Araya-Salas M &amp; Wilkins M R. (2020). *dynaSpec: dynamic spectrogram visualizations in R*. R package version 1.0.0.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://rdrr.io/pkg/seewave/man/spectro.html'>spectro</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># load example data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='kw'>list</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Phae.long1"</span>))

<span class='co'># run function</span>
<span class='fu'>scrolling_spectro</span>(<span class='kw'>wave</span> <span class='kw'>=</span> <span class='no'>Phae.long1</span>, <span class='kw'>wl</span> <span class='kw'>=</span> <span class='fl'>300</span>, <span class='kw'>ovlp</span> <span class='kw'>=</span> <span class='fl'>90</span>,
<span class='kw'>fps</span> <span class='kw'>=</span> <span class='fl'>50</span>, <span class='kw'>t.display</span> <span class='kw'>=</span> <span class='fl'>1.5</span>, <span class='kw'>collevels</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span>(-<span class='fl'>40</span>, <span class='fl'>0</span>, <span class='fl'>5</span>),
 <span class='kw'>pal</span> <span class='kw'>=</span> <span class='no'>reverse.heat.colors</span>, <span class='kw'>grid</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>flim</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>10</span>),
 <span class='kw'>res</span> <span class='kw'>=</span> <span class='fl'>120</span>)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Marcelo Araya-Salas.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


